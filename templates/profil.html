<!DOCTYPE html>
<html lang="fr">
  <head><!-- Informations page (css, sript, etc) -->
    {{template "InitPage"}}
    <title>Profil - {{.User.Username}}</title>
  </head>
  <body>
    <!-- Header -->
    {{template "ForumHeader" .}}

    <!-- Main Content -->
    <main class="main-content">
      <!-- Sidebar -->
      <aside class="sidebar">
        <h3>Profil</h3>
        <div class="post-avatar" src="{{.User.ProfilPic}}"></div>
        <p>{{.User.Username}}</p>
        <p>{{.User.Email}}</p>
      </aside>
      <section class="posts-section">
        {{range .Posts}}
        <div class="post-card">
          <div class="post-avatar" src="{{.Author.ProfilPic}}"></div>
          <div class="post-content">
            <div class="post-title">{{.TopicName}}</div>
            <div class="post-text">
              {{.Content}}
            </div>
          </div>
          <div class="profil-btn">
            <div class="post-actions">
              <button class="action-btn" onclick="toggleLike(this)">
                  <span>👍</span>
                  <span>{{.Likes}}</span>
              </button>
              <button class="action-btn" onclick="toggleDislike(this)">
                  <span>👎</span>
                  <span>{{.Dislikes}}</span>
              </button>              
            </div>
            <button class="post-button" href="topic/{{.TopicID}}#{{.MessageID}}">ouvrir</button>
          </div>
        </div>
        {{else}}
        <div class="post-card">
          <div class="post-content">
            <div class="post-text">
              <center>Il n'y a aucun message à afficher pour l'instant.</center>
            </div>
          </div>
        </div>
        {{end}}
      </section>
      
    </main>
  </body>
</html>
