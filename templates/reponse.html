<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum Interface</title>
   <link rel="stylesheet" href="./forum.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo-section">
            <div class="logo"></div>
            <div class="title">TITLE</div>
        </div>
        <nav class="nav-section">
            <a href="profil.html" class="nav-link">profil</a>
            <a href="home.html" class="nav-link">Home</a>
            <a href="categorie.html" class="nav-link">Categories</a>
            <input type="text" class="search-box" placeholder="search">
            <button class="login-btn" onclick="openRegisterModal()">login/register</button>
        </nav>
    </header>

<!-- Main Content -->
<main class="main-content">
  <!-- Posts Section -->
        <section class="posts-section">
            <div class="post-card">
                <div class="post-avatar"></div>
                <div class="post-content">
                    <div class="post-title">X</div>
                    <div class="post-text">cebcniuezf hev effe f kezof ezu bfuezjncdsijcnzec<br>ceu vbce nccb cebucenifcjoiezkfcfpozeffc z*sc</div>
                </div>

                <div class="post-actions">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <span>üëç</span>
                        <span>0</span>
                    </button>
                    <button class="action-btn" onclick="toggleDislike(this)">
                        <span>üëé</span>
                        <span>0</span>
                    </button>
                    <button class="action-btn">
                        <span>üí¨</span>
                        <span>0 r√©ponses</span>
                    </button>
                    <button class="respond-btn" onclick="showResponseBox(this)">R√©pondre</button>
                </div>
            </div>
  
            <div class="post-card">
                <div class="post-avatar"></div>
                <div class="post-content">
                    <div class="post-title">X</div>
                    <div class="post-text">cebcniuezf hev effe f kezof ezu bfuezjncdsijcnzec<br>ceu vbce nccb cebucenifcjoiezkfcfpozeffc z*sc</div>
                </div> 

                <div class="post-actions">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <span>üëç</span>
                        <span>0</span>
                    </button>
                    <button class="action-btn" onclick="toggleDislike(this)">
                        <span>üëé</span>
                        <span>0</span>
                    </button>
                    <button class="action-btn">
                        <span>üí¨</span>
                        <span>0 r√©ponses</span>
                    </button>
                    <button class="respond-btn" onclick="showResponseBox(this)">R√©pondre</button>
                </div>
            </div>

         <div class="post-card">
                <div class="post-avatar"></div>
                <div class="post-content">
                    <div class="post-title">X</div>
                    <div class="post-text">cebcniuezf hev effe f kezof ezu bfuezjncdsijcnzec<br>ceu vbce nccb cebucenifcjoiezkfcfpozeffc z*sc</div>
                </div> 

                <div class="post-actions">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <span>üëç</span>
                        <span>0</span>
                    </button>
                    <button class="action-btn" onclick="toggleDislike(this)">
                        <span>üëé</span>
                        <span>0</span>
                    </button>
                    <button class="action-btn">
                        <span>üí¨</span>
                        <span>0 r√©ponses</span>
                    </button>
                    <button class="respond-btn" onclick="showResponseBox(this)">R√©pondre</button>
                </div>
        </section>
        </main>
    </div>

    <!-- Modal de r√©ponse -->
    <div id="responseModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
        <div style="background: white; border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;">
            <h3 style="margin-bottom: 20px; color: #333;">R√©pondre au message</h3>
            <textarea id="responseText" placeholder="√âcrivez votre r√©ponse..." style="width: 100%; height: 150px; padding: 15px; border: 2px solid #eee; border-radius: 10px; resize: vertical; font-family: inherit;"></textarea>
            <div style="display: flex; gap: 15px; margin-top: 20px; justify-content: flex-end;">
                <button onclick="closeResponseModal()" style="padding: 10px 20px; border: 2px solid #ddd; background: white; border-radius: 10px; cursor: pointer;">Annuler</button>
                <button onclick="submitResponse()" style="padding: 10px 20px; background: linear-gradient(45deg, #667eea, #764ba2); color: white; border: none; border-radius: 10px; cursor: pointer;">Publier</button>
            </div>
        </div>
    </div>

      <!-- Modal de connexion -->
<div id="registerModal" class="modal">
    <div class="modal-content">
        <button class="close-btn" onclick="closeRegisterModal()">&times;</button>
        <div class="modal-header">
            <h2 class="modal-title">Connexion</h2>
            <p class="modal-subtitle">Acc√©dez √† votre compte</p>
        </div>
        
 <form id="loginForm" onsubmit="showLoginModal(); return false;">
    <div class="form-group">
        <label class="form-label" for="loginEmail">Identifiant</label>
        <input type="text" id="loginEmail" class="form-input" placeholder="email/nom d'utilisateur" required>
    </div>
    
    <div class="form-group">
        <label class="form-label" for="loginPassword">Mot de passe</label>
        <input type="password" id="loginPassword" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required minlength="6">
         <input type="checkbox" onclick="this.previousElementSibling.type = this.previousElementSibling.type === 'password' ? 'text' : 'password'"> <span class="show-password-text-2">Afficher</span>
    </div>
    
   <button type="submit" class="form-button">Se connecter</button>
</form>
        
        <div class="form-divider">
            <span>Pas encore de compte ?</span>
        </div>
        
    
     <a href="s'inscrire.html">
                <button class="secondary-button" type="button">S'inscrire</button>
            </a>
</div>
</div>

    <script>
        function toggleLike(button) {
            const isActive = button.classList.contains('active');
            const countSpan = button.querySelector('span:last-child');
            let count = parseInt(countSpan.textContent);
            
            if (isActive) {
                button.classList.remove('active');
                countSpan.textContent = count - 1;
            } else {
                button.classList.add('active');
                countSpan.textContent = count + 1;
                
                // Retirer le dislike si actif
                const post = button.closest('.post');
                const dislikeBtn = post.querySelector('.action-btn:nth-child(2)');
                if (dislikeBtn.classList.contains('active')) {
                    dislikeBtn.classList.remove('active');
                    const dislikeCount = dislikeBtn.querySelector('span:last-child');
                    dislikeCount.textContent = parseInt(dislikeCount.textContent) - 1;
                }
            }
        }

        function toggleDislike(button) {
            const isActive = button.classList.contains('active');
            const countSpan = button.querySelector('span:last-child');
            let count = parseInt(countSpan.textContent);
            
            if (isActive) {
                button.classList.remove('active');
                countSpan.textContent = count - 1;
            } else {
                button.classList.add('active');
                countSpan.textContent = count + 1;
                
                // Retirer le like si actif
                const post = button.closest('.post');
                const likeBtn = post.querySelector('.action-btn:first-child');
                if (likeBtn.classList.contains('active')) {
                    likeBtn.classList.remove('active');
                    const likeCount = likeBtn.querySelector('span:last-child');
                    likeCount.textContent = parseInt(likeCount.textContent) - 1;
                }
            }
        }
     function showResponseBox(button) {
            const modal = document.getElementById('responseModal');
            modal.style.display = 'flex';
            document.getElementById('responseText').focus();
        }

        function closeResponseModal() {
            const modal = document.getElementById('responseModal');
            modal.style.display = 'none';
            document.getElementById('responseText').value = '';
        }

        function submitResponse() {
            const text = document.getElementById('responseText').value.trim();
            if (text) {
                alert('R√©ponse publi√©e ! (Simulation)');
                closeResponseModal();
            } else {
                alert('Veuillez saisir une r√©ponse.');
            }
        }

        // Fermer le modal en cliquant √† l'ext√©rieur
        document.getElementById('responseModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeResponseModal();
            }
        });

        // Animation au scroll
        window.addEventListener('scroll', () => {
            const posts = document.querySelectorAll('.post');
            posts.forEach(post => {
                const rect = post.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    post.style.opacity = '1';
                    post.style.transform = 'translateY(0)';
                }
            });
        });

        // Recherche en temps r√©el (simulation)
        document.querySelector('.search-bar').addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            const posts = document.querySelectorAll('.post');
            
            posts.forEach(post => {
                const content = post.querySelector('.post-content').textContent.toLowerCase();
                const username = post.querySelector('.username').textContent.toLowerCase();
                
                if (content.includes(query) || username.includes(query) || query === '') {
                    post.style.display = 'block';
                } else {
                    post.style.display = 'none';
                }
            });
        });
            function openRegisterModal() {
            document.getElementById('registerModal').style.display = 'block';
        }

        function closeRegisterModal() {
            document.getElementById('registerModal').style.display = 'none';
        }

        function handleRegister(event) {
            event.preventDefault();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                alert('Les mots de passe ne correspondent pas');
                return;
            }
            
            alert('Inscription r√©ussie !');
            closeRegisterModal();
        }

        function showLoginModal() {
            alert('Modal de connexion √† impl√©menter');
        }

        // Fermer le modal en cliquant √† l'ext√©rieur
        window.onclick = function(event) {
            const modal = document.getElementById('registerModal');
            if (event.target === modal) {
                closeRegisterModal();
            }
        }
    </script>
</body>
</html>
